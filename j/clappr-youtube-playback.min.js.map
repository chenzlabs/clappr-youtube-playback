{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///clappr-youtube-playback.min.js","webpack:///webpack/bootstrap 6f9c209794f921ed9500","webpack:///./src/index.js","webpack:///external \"Clappr\"","webpack:///./src/public/style.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./src/public/youtube.html"],"names":["root","factory","exports","module","require","define","amd","YoutubePlayback","Clappr","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","getter","get","parent","getPrototypeOf","_Clappr","_publicStyleCss","_publicStyleCss2","_publicYoutubeHtml","_publicYoutubeHtml2","YT_URL_PARSER","apiLoaded","_Playback","options","settings","changeCount","seekEnabled","left","right","Mediator","on","Events","PLAYER_RESIZE","updateSize","_this","setTimeout","ready","embedYoutubeApiScript","template","data-youtube-playback","class","cid","player","getPlayerState","YT","PlayerState","BUFFERING","_ready","_this2","window","Player","embedYoutubePlayer","console","log","once","PLAYBACK_READY","_this3","script","document","createElement","setAttribute","body","appendChild","onYouTubeIframeAPIReady","url","match_content","match","regVideoQuality","_this4","playerVars","controls","autoplay","disablekb","enablejsapi","iv_load_policy","modestbranding","showinfo","html5","playsinline","vq","videoQuality","findVideoQuality","src","rel","youtubeShowRelated","loop","isLocalProtocol","location","protocol","origin","host","youtubePlaylist","listType","list","width","height","videoId","findVideoId","events","onReady","onStateChange","event","stateChange","onPlaybackQualityChange","qualityChange","setSize","$el","mute","volume","trigger","PLAYBACK_HIGHDEFINITIONUPDATE","isHighDefinitionInUse","data","PLAYING","enableMediaControl","playbackType","getPlaybackType","_playbackType","PLAYBACK_SETTINGSUPDATE","PLAYBACK_BUFFERFULL","PLAYBACK_PLAY","PAUSED","PLAYBACK_PAUSE","PLAYBACK_BUFFERING","ENDED","disableMediaControl","PLAYBACK_ENDED","_this5","_progressTimer","setInterval","progress","_timeupdateTimer","timeupdate","playVideo","setupYoutubePlayer","listenToOnce","play","clearInterval","pauseVideo","time","seekTo","percentage","duration","getDuration","setVolume","buffered","getVideoLoadedFraction","PLAYBACK_PROGRESS","start","current","total","PLAYBACK_TIMEUPDATE","getCurrentTime","getPlaybackQuality","Playback","VOD","css","pointer-events","PLAYBACK_MEDIACONTROL_DISABLE","PLAYBACK_MEDIACONTROL_ENABLE","html","style","Styler","getStyleFor","baseUrl","append","autoPlay","canPlay","source","test","push","toString","result","item","join","mediaQuery","alreadyImportedModules"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,WACA,kBAAAC,gBAAAC,IACAD,QAAA,UAAAJ,GACA,gBAAAC,SACAA,QAAAK,gBAAAN,EAAAG,QAAA,WAEAJ,EAAAO,gBAAAN,EAAAD,EAAAQ,SACCC,KAAA,SAAAC,GACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAX,OAGA,IAAAC,GAAAW,EAAAD,IACAX,WACAa,GAAAF,EACAG,UAUA,OANAL,GAAAE,GAAAI,KAAAd,EAAAD,QAAAC,IAAAD,QAAAU,GAGAT,EAAAa,UAGAb,EAAAD,QAvBA,GAAAY,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,gBAGAR,EAAA,KDmBM,SAAST,EAAQD,EAASU,GAE/B,YAUA,SAASS,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAAWF,GAEzF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIH,WAAU,iEAAoEG,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,cAAmBC,YAAgBC,mBAA6BR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAZjeE,OAAOS,eAAexC,EAAS,cAC7BkC,UAGF,IAAIO,GAAe,WAAe,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWZ,WAAaY,EAAWZ,eAAqBY,EAAWV,gBAAyB,SAAWU,KAAYA,EAAWX,aAAiBL,OAAOS,eAAeG,EAAQI,EAAWC,IAAKD,IAAiB,MAAO,UAAUtB,EAAawB,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBjB,EAAYK,UAAWmB,GAAiBC,GAAaR,EAAiBjB,EAAayB,GAAqBzB,MAE7hB0B,EAAO,SAAaC,EAAIC,EAAKC,GAAqC,IAA9B,GAAIC,MAAiCA,GAAQ,CAAE,GAAIC,GAASJ,EAAIK,EAAWJ,EAAKK,EAAWJ,CAAKC,MAA+B,OAAXC,IAAiBA,EAASG,SAAS7B,UAAW,IAAI8B,GAAO7B,OAAO8B,yBAAyBL,EAAQC,EAAW,IAAaK,SAATF,EAAJ,CAA4O,GAAI,SAAWA,GAAQ,MAAOA,GAAK1B,KAAgB,IAAI6B,GAASH,EAAKI,GAAK,IAAeF,SAAXC,EAAwB,MAAoB,OAAOA,GAAOhD,KAAK2C,GAA/V,GAAIO,GAASlC,OAAOmC,eAAeV,EAAS,IAAe,OAAXS,EAAmB,MAA2Bb,GAAKa,EAAQZ,EAAMI,EAAUH,EAAMI,EAAUH,KAAeK,EAAOK,EAASH,SAQxcK,EAAUzD,EE3E8C,GF6ExD0D,EAAkB1D,EE3EG,GF6ErB2D,EAAmBlD,EAAuBiD,GAE1CE,EAAqB5D,EE9ED,GFgFpB6D,EAAsBpD,EAAuBmD,GE5E5CE,EAAgB,4JAGlBC,KAEiBpE,EAAe,SAAAqE,GAiBtB,QAjBOrE,GAiBNsE,GAWX,GF4FCpD,EAAgBhB,KExHAF,GAkBjB8C,EAAApB,OAAAmC,eAlBiB7D,EAAeyB,WAAA,cAAAvB,MAAAQ,KAAAR,KAkB1BoE,GACNpE,KAAKqE,UACHC,YAAa,EACbC,eACAC,MAAO,YAAa,WAAY,YAChCzD,SAAU,WACV0D,OAAQ,aAAc,SAAU,iBAElCb,EAAAc,SAASC,GAAGf,EAAAgB,OAAOC,cAAe7E,KAAK8E,WAAY9E,MAE9CkE,EAGE,CAGX,GAAIa,GAAQ/E,IACZgF,YAAW,WACLD,EAAME,SACV,SARIjF,MAAKkF,wBACLhB,KF6XH,MA1UA9C,GEjFkBtB,EAAeqE,GFmFjCjC,EEnFkBpC,IFoFhB2C,IAAK,OACLgB,IEpFM,WAAK,MAAO,sBFwFlBhB,IAAK,WACLgB,IEvFU,WAAK,SAAOG,EAAAuB,UAAAnB,EAAAjD,YF2FtB0B,IAAK,aACLgB,IE1FY,WACb,OACE2B,wBAAyB,GACzBC,MAAO,0BACP/E,GAAIN,KAAKsF,QF8FV7C,IAAK,QACLgB,IE3FO,WAAK,YF+FZhB,IAAK,YACLgB,IE/FW,WAAK,MAAOzD,MAAKuF,QAAUvF,KAAKuF,OAAOC,mBAAqBC,GAAGC,YAAYC,aFmGtFlD,IAAK,UACLgB,IEnGS,WAAK,MAAOzD,MAAK4F,WFkI5B1D,EEjJkBpC,IFkJhB2C,IAAK,qBACLd,ME1GgB,WF2Gd,GAAIkE,GAAS7F,IE1GZ8F,QAAOL,IAAMK,OAAOL,GAAGM,OACzB/F,KAAKgG,sBAKLC,QAAQC,IAAI,2BACZlG,KAAKmG,KAAKvC,EAAAgB,OAAOwB,eAAgB,WF6G5B,ME7GkCP,GAAKG,2BFkH7CvD,IAAK,wBACLd,ME/GmB,WFgHjB,GAAI0E,GAASrG,KE/GZsG,EAASC,SAASC,cAAc,SACpCF,GAAOG,aAAa,OAAQ,mBAC5BH,EAAOG,aAAa,QAAS,SAC7BH,EAAOG,aAAa,MAAO,sCAC3BF,SAASG,KAAKC,YAAYL,GAC1BR,OAAOc,wBAA0B,WFkH5B,MElHkCP,GAAKpB,YFsH3CxC,IAAK,cACLd,MEpHS,SAACkF,GACX,GAAIC,GAAgBD,EAAIE,MAAM9C,EAC9B,OAAI6C,IAAoE,KAAnDA,EAAcA,EAAcvE,OAAS,GAAGA,OACpDuE,EAAcA,EAAcvE,OAAS,GAErCsE,KFwHRpE,IAAK,mBACLd,MErHc,SAACkF,GAChB,GAAIG,GAAkB,qBAClBD,EAAQF,EAAIE,MAAMC,EACtB,OAAa,QAAVD,GAAkBA,EAAMxE,OAAS,EAC3BwE,EAAM,GAER,UFwHNtE,IAAK,qBACLd,MEtHgB,WFuHd,GAAIsF,GAASjH,KEtHZkH,GACFC,SAAU,EACVC,SAAU,EACVC,UAAW,EACXC,YAAa,EACbC,eAAgB,EAChBC,eAAgB,EAChBC,SAAU,EACVC,MAAO,EACPC,YAAa,EACbC,GAAI5H,KAAKoE,QAAQyD,cAAgB7H,KAAK8H,iBAAiB9H,KAAKoE,QAAQ2D,KACpEC,IAAKhI,KAAKoE,QAAQ6D,oBAAsB,EACxCC,KAAMlI,KAAKoE,QAAQ8D,KAAO,EAAI,GAE5BC,EAA+C,UAA7BrC,OAAOsC,SAASC,UAAqD,SAA7BvC,OAAOsC,SAASC,QACzEF,KACHjB,EAAWoB,OAASxC,OAAOsC,SAASC,SAAW,KAAOvC,OAAOsC,SAASG,MAEpEvI,KAAKoE,QAAQoE,kBACftB,EAAWuB,SAAW,WACtBvB,EAAWwB,KAAO1I,KAAKoE,QAAQoE,iBAEjCxI,KAAKuF,OAAS,GAAIE,IAAGM,OAAM,KAAM/F,KAAKsF,KACpCqD,MAAO3I,KAAKoE,QAAQuE,OAAS,OAC7BC,OAAQ5I,KAAKoE,QAAQwE,QAAU,OAC/BC,QAAS7I,KAAK8I,YAAY9I,KAAKoE,QAAQ2D,KACvCb,WAAYA,EACZ6B,QACEC,QAAS,WFyHJ,MEzHU/B,GAAKhC,SACpBgE,cAAe,SAACC,GF2HX,ME3HqBjC,GAAKkC,YAAYD,IAC3CE,wBAAyB,SAACF,GF6HrB,ME7H+BjC,GAAKoC,cAAcH,UFmI1DzG,IAAK,aACLd,ME/HQ,WACT3B,KAAKuF,QAAUvF,KAAKuF,OAAO+D,QAAQtJ,KAAKuJ,IAAIZ,QAAS3I,KAAKuJ,IAAIX,aFkI7DnG,IAAK,QACLd,MEhIG,WACJ3B,KAAK4F,UACD5F,KAAKoE,QAAQoF,MACfxJ,KAAKyJ,OAAO,GAEdxD,QAAQC,IAAI,0BACZlG,KAAK0J,QAAQ9F,EAAAgB,OAAOwB,mBFmInB3D,IAAK,gBACLd,MEjIW,SAACuH,GACblJ,KAAK0J,QAAQ9F,EAAAgB,OAAO+E,8BAA+B3J,KAAK4J,4BFqIvDnH,IAAK,cACLd,MEnIS,SAACuH,GACX,OAAQA,EAAMW,MACZ,IAAKpE,IAAGC,YAAYoE,QAClB9J,KAAK+J,oBACL,IAAIC,GAAehK,KAAKiK,iBACpBjK,MAAKkK,gBAAkBF,IACzBhK,KAAKqE,SAASC,cACdtE,KAAKkK,cAAgBF,EACrBhK,KAAK0J,QAAQ9F,EAAAgB,OAAOuF,0BAEtBnK,KAAK0J,QAAQ9F,EAAAgB,OAAOwF,qBACpBpK,KAAK0J,QAAQ9F,EAAAgB,OAAOyF,cACpB,MAEF,KAAK5E,IAAGC,YAAY4E,OAClBtK,KAAK0J,QAAQ9F,EAAAgB,OAAO2F,eACpB,MACF,KAAK9E,IAAGC,YAAYC,UAClB3F,KAAK0J,QAAQ9F,EAAAgB,OAAO4F,mBACpB,MACF,KAAK/E,IAAGC,YAAY+E,MACdzK,KAAKoE,QAAQ6D,mBACfjI,KAAK0K,sBAEL1K,KAAK0J,QAAQ9F,EAAAgB,OAAO+F,oBF4IzBlI,IAAK,OACLd,MErIE,WFsIA,GAAIiJ,GAAS5K,IErIZA,MAAKuF,QACPvF,KAAK6K,eAAiB7K,KAAK6K,gBAAkBC,YAAY,WFwIpD,MExI0DF,GAAKG,YAAY,KAChF/K,KAAKgL,iBAAmBhL,KAAKgL,kBAAoBF,YAAY,WF0IxD,ME1I8DF,GAAKK,cAAc,KACtFjL,KAAKuF,OAAO2F,aACHlL,KAAK4F,QACd5F,KAAK0J,QAAQ9F,EAAAgB,OAAO4F,oBACpBxK,KAAK6K,eAAiB7K,KAAK6K,gBAAkBC,YAAY,WF4IpD,ME5I0DF,GAAKG,YAAY,KAChF/K,KAAKgL,iBAAmBhL,KAAKgL,kBAAoBF,YAAY,WF8IxD,ME9I8DF,GAAKK,cAAc,KACtFjL,KAAKmL,uBAELnL,KAAK0J,QAAQ9F,EAAAgB,OAAO4F,oBACpBxK,KAAKoL,aAAapL,KAAM4D,EAAAgB,OAAOwB,eAAgBpG,KAAKqL,UFmJrD5I,IAAK,QACLd,MEhJG,WACJ2J,cAActL,KAAKgL,kBACnBhL,KAAKgL,iBAAmB,KACxBhL,KAAKuF,QAAUvF,KAAKuF,OAAOgG,gBFmJ1B9I,IAAK,OACLd,MEjJE,SAAC6J,GACCxL,KAAKuF,QACVvF,KAAKuF,OAAOkG,OAAOD,MFoJlB/I,IAAK,iBACLd,MElJY,SAAC+J,GACd,GAAK1L,KAAKuF,OAAV,CACA,GAAIoG,GAAW3L,KAAKuF,OAAOqG,cACvBJ,EAAOE,EAAaC,EAAW,GACnC3L,MAAKyL,OAAOD,OFqJX/I,IAAK,SACLd,MEnJI,SAACA,GACN3B,KAAKuF,QAAUvF,KAAKuF,OAAOsG,WAAa7L,KAAKuF,OAAOsG,UAAUlK,MFsJ7Dc,IAAK,WACLd,MEpJM,WACP,GAAK3B,KAAKuF,QAAWvF,KAAKuF,OAAOqG,YAAjC,CACA,GAAIE,GAAW9L,KAAKuF,OAAOqG,cAAgB5L,KAAKuF,OAAOwG,wBACvD/L,MAAK0J,QAAQ9F,EAAAgB,OAAOoH,mBAAoBC,MAAO,EAAGC,QAASJ,EAAUK,MAAOnM,KAAKuF,OAAOqG,oBFuJvFnJ,IAAK,aACLd,MErJQ,WACJ3B,KAAKuF,QAAWvF,KAAKuF,OAAOqG,aACjC5L,KAAK0J,QAAQ9F,EAAAgB,OAAOwH,qBAAsBF,QAASlM,KAAKuF,OAAO8G,iBAAkBF,MAAOnM,KAAKuF,OAAOqG,mBFwJnGnJ,IAAK,YACLd,MEtJO,WACR,MAAO3B,MAAKuF,QAAUvF,KAAKuF,OAAOC,kBAAoBC,GAAGC,YAAYoE,WFyJpErH,IAAK,wBACLd,MEvJmB,WACpB,MAAO3B,MAAKuF,UAAYvF,KAAKuF,OAAO+G,qBAAqBvF,MAAM,aF0J9DtE,IAAK,cACLd,MExJS,WACV,GAAIgK,GAAW,CAIf,OAHI3L,MAAKuF,SACPoG,EAAW3L,KAAKuF,OAAOqG,eAElBD,KF2JNlJ,IAAK,kBACLd,MEzJa,WACd,MAAOiC,GAAA2I,SAASC,OF4Jf/J,IAAK,sBACLd,ME1JiB,WAClB3B,KAAKuJ,IAAIkD,KAAKC,iBAAkB,SAChC1M,KAAK0J,QAAQ9F,EAAAgB,OAAO+H,kCF6JnBlK,IAAK,qBACLd,ME3JgB,WACjB3B,KAAKuJ,IAAIkD,KAAKC,iBAAkB,SAChC1M,KAAK0J,QAAQ9F,EAAAgB,OAAOgI,iCF8JnBnK,IAAK,SACLd,ME5JI,WACL3B,KAAKuJ,IAAIsD,KAAK7M,KAAKmF,UAAU7E,GAAE,KAAON,KAAKsF,MAC3C,IAAIwH,GAAQlJ,EAAAmJ,OAAOC,YAAWlJ,EAAA/C,SAAiBkM,QAASjN,KAAKoE,QAAQ6I,SAKrE,OAJAjN,MAAKuJ,IAAI2D,OAAOJ,GACZ9M,KAAKoE,QAAQ+I,UACbnN,KAAKqL,OAEFrL,SA3PUF,GF4ZjB8D,EAAQ2I,SAEX9M,GAAiBsB,QE9ZGjB,EA+PrBA,EAAgBsN,QAAU,SAAUC,GAClC,MAAOpJ,GAAcqJ,KAAKD,IFoK3B3N,EAAOD,QAAUA,EAAiBsB,SAO7B,SAASrB,EAAQD,GGvbvBC,EAAAD,QAAAQ,GHgcM,SAASP,EAAQD,EAASU,GIhchCV,EAAAC,EAAAD,QAAAU,EAAA,KAKAV,EAAA8N,MAAA7N,EAAAY,GAAA,8HAAqJ,MJ4c/I,SAASZ,EAAQD,GK5cvBC,EAAAD,QAAA,WACA,GAAAiJ,KA0CA,OAvCAA,GAAA8E,SAAA,WAEA,OADAC,MACAnL,EAAA,EAAgBA,EAAAtC,KAAAuC,OAAiBD,IAAA,CACjC,GAAAoL,GAAA1N,KAAAsC,EACAoL,GAAA,GACAD,EAAAF,KAAA,UAAAG,EAAA,OAAwCA,EAAA,QAExCD,EAAAF,KAAAG,EAAA,IAGA,MAAAD,GAAAE,KAAA,KAIAjF,EAAApG,EAAA,SAAApC,EAAA0N,GACA,gBAAA1N,KACAA,IAAA,KAAAA,EAAA,KAEA,QADA2N,MACAvL,EAAA,EAAgBA,EAAAtC,KAAAuC,OAAiBD,IAAA,CACjC,GAAAhC,GAAAN,KAAAsC,GAAA,EACA,iBAAAhC,KACAuN,EAAAvN,OAEA,IAAAgC,EAAA,EAAYA,EAAApC,EAAAqC,OAAoBD,IAAA,CAChC,GAAAoL,GAAAxN,EAAAoC,EAKA,iBAAAoL,GAAA,IAAAG,EAAAH,EAAA,MACAE,IAAAF,EAAA,GACAA,EAAA,GAAAE,EACKA,IACLF,EAAA,OAAAA,EAAA,aAAAE,EAAA,KAEAlF,EAAA6E,KAAAG,MAIAhF,IL4dM,SAAShJ,EAAQD,GM5gBvBC,EAAAD,QAAA","file":"clappr-youtube-playback.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Clappr\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Clappr\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"YoutubePlayback\"] = factory(require(\"Clappr\"));\n\telse\n\t\troot[\"YoutubePlayback\"] = factory(root[\"Clappr\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"Clappr\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"Clappr\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"YoutubePlayback\"] = factory(require(\"Clappr\"));\n\telse\n\t\troot[\"YoutubePlayback\"] = factory(root[\"Clappr\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"<%=baseUrl%>/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tvar _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar _Clappr = __webpack_require__(/*! Clappr */ 1);\n\t\n\tvar _publicStyleCss = __webpack_require__(/*! ./public/style.css */ 2);\n\t\n\tvar _publicStyleCss2 = _interopRequireDefault(_publicStyleCss);\n\t\n\tvar _publicYoutubeHtml = __webpack_require__(/*! ./public/youtube.html */ 4);\n\t\n\tvar _publicYoutubeHtml2 = _interopRequireDefault(_publicYoutubeHtml);\n\t\n\t// NOTE: this will match ^.*v/([^#\\&\\?]*).* which is too wide open...\n\t//const YT_URL_PARSER = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?)|(feature\\=player_embedded&))\\??v?=?([^#\\&\\?]*).*/\n\tvar YT_URL_PARSER = /^.*((youtu.be\\/)|(youtube.com\\/v\\/)|(youtube.com\\/u\\/\\w\\/)|(youtube.com\\/embed\\/)|(youtube.com\\/watch\\?)|(feature\\=player_embedded&))\\??v?=?([^#\\&\\?]*).*/;\n\t\n\t// Flag to track if youtube api got loaded on to the DOM\n\tvar apiLoaded = false;\n\t\n\tvar YoutubePlayback = (function (_Playback) {\n\t  _inherits(YoutubePlayback, _Playback);\n\t\n\t  _createClass(YoutubePlayback, [{\n\t    key: 'name',\n\t    get: function get() {\n\t      return 'youtube_playback';\n\t    }\n\t  }, {\n\t    key: 'template',\n\t    get: function get() {\n\t      return (0, _Clappr.template)(_publicYoutubeHtml2['default']);\n\t    }\n\t  }, {\n\t    key: 'attributes',\n\t    get: function get() {\n\t      return {\n\t        'data-youtube-playback': '',\n\t        'class': 'clappr-youtube-playback',\n\t        id: this.cid\n\t      };\n\t    }\n\t  }, {\n\t    key: 'ended',\n\t    get: function get() {\n\t      return false;\n\t    }\n\t  }, {\n\t    key: 'buffering',\n\t    get: function get() {\n\t      return this.player && this.player.getPlayerState() === YT.PlayerState.BUFFERING;\n\t    }\n\t  }, {\n\t    key: 'isReady',\n\t    get: function get() {\n\t      return this._ready;\n\t    }\n\t  }]);\n\t\n\t  function YoutubePlayback(options) {\n\t    _classCallCheck(this, YoutubePlayback);\n\t\n\t    _get(Object.getPrototypeOf(YoutubePlayback.prototype), 'constructor', this).call(this, options);\n\t    this.settings = {\n\t      changeCount: 0,\n\t      seekEnabled: true,\n\t      left: ['playpause', 'position', 'duration'],\n\t      'default': ['seekbar'],\n\t      right: ['fullscreen', 'volume', 'hd-indicator']\n\t    };\n\t    _Clappr.Mediator.on(_Clappr.Events.PLAYER_RESIZE, this.updateSize, this);\n\t    // If the script tag is already loaded simply call ready\n\t    if (!apiLoaded) {\n\t      this.embedYoutubeApiScript();\n\t      apiLoaded = true;\n\t    } else {\n\t      // try stalling to see if that helps\n\t      // yes it helps - 100ms too low, 500ms works almost always\n\t      var _this = this;\n\t      setTimeout(function () {\n\t        _this.ready();\n\t      }, 500);\n\t    }\n\t  }\n\t\n\t  _createClass(YoutubePlayback, [{\n\t    key: 'setupYoutubePlayer',\n\t    value: function setupYoutubePlayer() {\n\t      var _this2 = this;\n\t\n\t      if (window.YT && window.YT.Player) {\n\t        this.embedYoutubePlayer();\n\t      } else {\n\t        // NO - this only fires for one instance of YT player\n\t        // ... because PLAYBACK_READY is firing before this gets installed ...\n\t        //      this.once(Events.PLAYBACK_READY, () => this.embedYoutubePlayer())\n\t        console.log(\"awaiting PLAYBACK_READY\");\n\t        this.once(_Clappr.Events.PLAYBACK_READY, function () {\n\t          return _this2.embedYoutubePlayer();\n\t        });\n\t      }\n\t    }\n\t  }, {\n\t    key: 'embedYoutubeApiScript',\n\t    value: function embedYoutubeApiScript() {\n\t      var _this3 = this;\n\t\n\t      var script = document.createElement('script');\n\t      script.setAttribute('type', 'text/javascript');\n\t      script.setAttribute('async', 'async');\n\t      script.setAttribute('src', 'https://www.youtube.com/iframe_api');\n\t      document.body.appendChild(script);\n\t      window.onYouTubeIframeAPIReady = function () {\n\t        return _this3.ready();\n\t      };\n\t    }\n\t  }, {\n\t    key: 'findVideoId',\n\t    value: function findVideoId(url) {\n\t      var match_content = url.match(YT_URL_PARSER);\n\t      if (match_content && match_content[match_content.length - 1].length === 11) {\n\t        return match_content[match_content.length - 1];\n\t      } else {\n\t        return url;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'findVideoQuality',\n\t    value: function findVideoQuality(url) {\n\t      var regVideoQuality = /[?&]vq=([^#\\&\\?]+)/;\n\t      var match = url.match(regVideoQuality);\n\t      if (match !== null && match.length > 1) {\n\t        return match[1];\n\t      }\n\t      return 'auto';\n\t    }\n\t  }, {\n\t    key: 'embedYoutubePlayer',\n\t    value: function embedYoutubePlayer() {\n\t      var _this4 = this;\n\t\n\t      var playerVars = {\n\t        controls: 0,\n\t        autoplay: 1,\n\t        disablekb: 1,\n\t        enablejsapi: 1,\n\t        iv_load_policy: 3,\n\t        modestbranding: 1,\n\t        showinfo: 0,\n\t        html5: 1,\n\t        playsinline: 1,\n\t        vq: this.options.videoQuality || this.findVideoQuality(this.options.src),\n\t        rel: this.options.youtubeShowRelated || 0,\n\t        loop: this.options.loop ? 1 : 0\n\t      };\n\t      var isLocalProtocol = window.location.protocol === 'file:' || window.location.protocol === 'app:';\n\t      if (!isLocalProtocol) {\n\t        playerVars.origin = window.location.protocol + '//' + window.location.host;\n\t      }\n\t      if (this.options.youtubePlaylist) {\n\t        playerVars.listType = 'playlist';\n\t        playerVars.list = this.options.youtubePlaylist;\n\t      }\n\t      this.player = new YT.Player('yt' + this.cid, {\n\t        width: this.options.width || '100%',\n\t        height: this.options.height || '100%',\n\t        videoId: this.findVideoId(this.options.src),\n\t        playerVars: playerVars,\n\t        events: {\n\t          onReady: function onReady() {\n\t            return _this4.ready();\n\t          },\n\t          onStateChange: function onStateChange(event) {\n\t            return _this4.stateChange(event);\n\t          },\n\t          onPlaybackQualityChange: function onPlaybackQualityChange(event) {\n\t            return _this4.qualityChange(event);\n\t          }\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'updateSize',\n\t    value: function updateSize() {\n\t      this.player && this.player.setSize(this.$el.width(), this.$el.height());\n\t    }\n\t  }, {\n\t    key: 'ready',\n\t    value: function ready() {\n\t      this._ready = true;\n\t      if (this.options.mute) {\n\t        this.volume(0);\n\t      }\n\t      console.log(\"trigger PLAYBACK_READY\");\n\t      this.trigger(_Clappr.Events.PLAYBACK_READY);\n\t    }\n\t  }, {\n\t    key: 'qualityChange',\n\t    value: function qualityChange(event) {\n\t      // eslint-disable-line no-unused-vars\n\t      this.trigger(_Clappr.Events.PLAYBACK_HIGHDEFINITIONUPDATE, this.isHighDefinitionInUse());\n\t    }\n\t  }, {\n\t    key: 'stateChange',\n\t    value: function stateChange(event) {\n\t      switch (event.data) {\n\t        case YT.PlayerState.PLAYING:\n\t          {\n\t            this.enableMediaControl();\n\t            var playbackType = this.getPlaybackType();\n\t            if (this._playbackType !== playbackType) {\n\t              this.settings.changeCount++;\n\t              this._playbackType = playbackType;\n\t              this.trigger(_Clappr.Events.PLAYBACK_SETTINGSUPDATE);\n\t            }\n\t            this.trigger(_Clappr.Events.PLAYBACK_BUFFERFULL);\n\t            this.trigger(_Clappr.Events.PLAYBACK_PLAY);\n\t            break;\n\t          }\n\t        case YT.PlayerState.PAUSED:\n\t          this.trigger(_Clappr.Events.PLAYBACK_PAUSE);\n\t          break;\n\t        case YT.PlayerState.BUFFERING:\n\t          this.trigger(_Clappr.Events.PLAYBACK_BUFFERING);\n\t          break;\n\t        case YT.PlayerState.ENDED:\n\t          if (this.options.youtubeShowRelated) {\n\t            this.disableMediaControl();\n\t          } else {\n\t            this.trigger(_Clappr.Events.PLAYBACK_ENDED);\n\t          }\n\t          break;\n\t        default:\n\t          break;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'play',\n\t    value: function play() {\n\t      var _this5 = this;\n\t\n\t      if (this.player) {\n\t        this._progressTimer = this._progressTimer || setInterval(function () {\n\t          return _this5.progress();\n\t        }, 100);\n\t        this._timeupdateTimer = this._timeupdateTimer || setInterval(function () {\n\t          return _this5.timeupdate();\n\t        }, 100);\n\t        this.player.playVideo();\n\t      } else if (this._ready) {\n\t        this.trigger(_Clappr.Events.PLAYBACK_BUFFERING);\n\t        this._progressTimer = this._progressTimer || setInterval(function () {\n\t          return _this5.progress();\n\t        }, 100);\n\t        this._timeupdateTimer = this._timeupdateTimer || setInterval(function () {\n\t          return _this5.timeupdate();\n\t        }, 100);\n\t        this.setupYoutubePlayer();\n\t      } else {\n\t        this.trigger(_Clappr.Events.PLAYBACK_BUFFERING);\n\t        this.listenToOnce(this, _Clappr.Events.PLAYBACK_READY, this.play);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'pause',\n\t    value: function pause() {\n\t      clearInterval(this._timeupdateTimer);\n\t      this._timeupdateTimer = null;\n\t      this.player && this.player.pauseVideo();\n\t    }\n\t  }, {\n\t    key: 'seek',\n\t    value: function seek(time) {\n\t      if (!this.player) return;\n\t      this.player.seekTo(time);\n\t    }\n\t  }, {\n\t    key: 'seekPercentage',\n\t    value: function seekPercentage(percentage) {\n\t      if (!this.player) return;\n\t      var duration = this.player.getDuration();\n\t      var time = percentage * duration / 100;\n\t      this.seekTo(time);\n\t    }\n\t  }, {\n\t    key: 'volume',\n\t    value: function volume(value) {\n\t      this.player && this.player.setVolume && this.player.setVolume(value);\n\t    }\n\t  }, {\n\t    key: 'progress',\n\t    value: function progress() {\n\t      if (!this.player || !this.player.getDuration) return;\n\t      var buffered = this.player.getDuration() * this.player.getVideoLoadedFraction();\n\t      this.trigger(_Clappr.Events.PLAYBACK_PROGRESS, { start: 0, current: buffered, total: this.player.getDuration() });\n\t    }\n\t  }, {\n\t    key: 'timeupdate',\n\t    value: function timeupdate() {\n\t      if (!this.player || !this.player.getDuration) return;\n\t      this.trigger(_Clappr.Events.PLAYBACK_TIMEUPDATE, { current: this.player.getCurrentTime(), total: this.player.getDuration() });\n\t    }\n\t  }, {\n\t    key: 'isPlaying',\n\t    value: function isPlaying() {\n\t      return this.player && this.player.getPlayerState() == YT.PlayerState.PLAYING;\n\t    }\n\t  }, {\n\t    key: 'isHighDefinitionInUse',\n\t    value: function isHighDefinitionInUse() {\n\t      return this.player && !!this.player.getPlaybackQuality().match(/^hd\\d+/);\n\t    }\n\t  }, {\n\t    key: 'getDuration',\n\t    value: function getDuration() {\n\t      var duration = 0;\n\t      if (this.player) {\n\t        duration = this.player.getDuration();\n\t      }\n\t      return duration;\n\t    }\n\t  }, {\n\t    key: 'getPlaybackType',\n\t    value: function getPlaybackType() {\n\t      return _Clappr.Playback.VOD;\n\t    }\n\t  }, {\n\t    key: 'disableMediaControl',\n\t    value: function disableMediaControl() {\n\t      this.$el.css({ 'pointer-events': 'auto' });\n\t      this.trigger(_Clappr.Events.PLAYBACK_MEDIACONTROL_DISABLE);\n\t    }\n\t  }, {\n\t    key: 'enableMediaControl',\n\t    value: function enableMediaControl() {\n\t      this.$el.css({ 'pointer-events': 'none' });\n\t      this.trigger(_Clappr.Events.PLAYBACK_MEDIACONTROL_ENABLE);\n\t    }\n\t  }, {\n\t    key: 'render',\n\t    value: function render() {\n\t      this.$el.html(this.template({ id: 'yt' + this.cid }));\n\t      var style = _Clappr.Styler.getStyleFor(_publicStyleCss2['default'], { baseUrl: this.options.baseUrl });\n\t      this.$el.append(style);\n\t      if (this.options.autoPlay) {\n\t        this.play();\n\t      }\n\t      return this;\n\t    }\n\t  }]);\n\t\n\t  return YoutubePlayback;\n\t})(_Clappr.Playback);\n\t\n\texports['default'] = YoutubePlayback;\n\t\n\tYoutubePlayback.canPlay = function (source) {\n\t  // eslint-disable-line no-unused-vars\n\t  return YT_URL_PARSER.test(source);\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/*!*************************!*\\\n  !*** external \"Clappr\" ***!\n  \\*************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/*!******************************!*\\\n  !*** ./src/public/style.css ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(/*! ./../../~/css-loader/lib/css-base.js */ 3)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".clappr-youtube-playback[data-youtube-playback]{position:absolute;height:100%;width:100%;display:block;pointer-events:none}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 3 */\n/*!**************************************!*\\\n  !*** ./~/css-loader/lib/css-base.js ***!\n  \\**************************************/\n/***/ function(module, exports) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\t// css base code, injected by the css-loader\r\n\tmodule.exports = function() {\r\n\t\tvar list = [];\r\n\t\r\n\t\t// return the list of modules as css string\r\n\t\tlist.toString = function toString() {\r\n\t\t\tvar result = [];\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar item = this[i];\r\n\t\t\t\tif(item[2]) {\r\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(item[1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result.join(\"\");\r\n\t\t};\r\n\t\r\n\t\t// import a list of modules into the list\r\n\t\tlist.i = function(modules, mediaQuery) {\r\n\t\t\tif(typeof modules === \"string\")\r\n\t\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\t\tvar alreadyImportedModules = {};\r\n\t\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\t\tvar id = this[i][0];\r\n\t\t\t\tif(typeof id === \"number\")\r\n\t\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t\t}\r\n\t\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\t\tvar item = modules[i];\r\n\t\t\t\t// skip already imported module\r\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlist.push(item);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn list;\r\n\t};\r\n\n\n/***/ },\n/* 4 */\n/*!*********************************!*\\\n  !*** ./src/public/youtube.html ***!\n  \\*********************************/\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div id=\\\"<%=id%>\\\"></div>\";\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// clappr-youtube-playback.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"<%=baseUrl%>/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6f9c209794f921ed9500","import { Events, Playback, Mediator, Styler, template } from 'Clappr'\r\n\r\nimport playbackStyle from './public/style.css'\r\nimport playbackHtml from './public/youtube.html'\r\n\r\n// NOTE: this will match ^.*v/([^#\\&\\?]*).* which is too wide open...\r\n//const YT_URL_PARSER = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?)|(feature\\=player_embedded&))\\??v?=?([^#\\&\\?]*).*/\r\nconst YT_URL_PARSER = /^.*((youtu.be\\/)|(youtube.com\\/v\\/)|(youtube.com\\/u\\/\\w\\/)|(youtube.com\\/embed\\/)|(youtube.com\\/watch\\?)|(feature\\=player_embedded&))\\??v?=?([^#\\&\\?]*).*/\r\n\r\n// Flag to track if youtube api got loaded on to the DOM\r\nlet apiLoaded = false\r\n\r\nexport default class YoutubePlayback extends Playback {\r\n  get name () { return 'youtube_playback' }\r\n\r\n  get template () { return template(playbackHtml) }\r\n\r\n  get attributes () {\r\n    return {\r\n      'data-youtube-playback': '',\r\n      class: 'clappr-youtube-playback',\r\n      id: this.cid\r\n    }\r\n  }\r\n\r\n  get ended () { return false }\r\n  get buffering () { return this.player && this.player.getPlayerState() === YT.PlayerState.BUFFERING }\r\n  get isReady () { return this._ready }\r\n\r\n  constructor (options) {\r\n    super(options)\r\n    this.settings = {\r\n      changeCount: 0,\r\n      seekEnabled: true,\r\n      left: ['playpause', 'position', 'duration'],\r\n      default: ['seekbar'],\r\n      right: ['fullscreen', 'volume', 'hd-indicator']\r\n    }\r\n    Mediator.on(Events.PLAYER_RESIZE, this.updateSize, this)\r\n    // If the script tag is already loaded simply call ready\r\n    if (!apiLoaded) {\r\n      this.embedYoutubeApiScript()\r\n      apiLoaded = true\r\n    } else {\r\n// try stalling to see if that helps\r\n// yes it helps - 100ms too low, 500ms works almost always\r\nvar _this = this;\r\nsetTimeout(function(){\r\n      _this.ready()\r\n},500);\r\n    }\r\n  }\r\n\r\n  setupYoutubePlayer () {\r\n    if (window.YT && window.YT.Player) {\r\n      this.embedYoutubePlayer()\r\n    } else {\r\n// NO - this only fires for one instance of YT player\r\n// ... because PLAYBACK_READY is firing before this gets installed ...\r\n//      this.once(Events.PLAYBACK_READY, () => this.embedYoutubePlayer())\r\n      console.log(\"awaiting PLAYBACK_READY\")\r\n      this.once(Events.PLAYBACK_READY, () => this.embedYoutubePlayer())\r\n    }\r\n  }\r\n\r\n  embedYoutubeApiScript () {\r\n    let script = document.createElement('script')\r\n    script.setAttribute('type', 'text/javascript')\r\n    script.setAttribute('async', 'async')\r\n    script.setAttribute('src', 'https://www.youtube.com/iframe_api')\r\n    document.body.appendChild(script)\r\n    window.onYouTubeIframeAPIReady = () => this.ready()\r\n  }\r\n\r\n  findVideoId (url) {\r\n    let match_content = url.match(YT_URL_PARSER)\r\n    if (match_content && match_content[match_content.length - 1].length === 11) {\r\n      return match_content[match_content.length - 1]\r\n    } else {\r\n      return url\r\n    }\r\n  }\r\n\r\n  findVideoQuality (url) {\r\n    let regVideoQuality = /[?&]vq=([^#\\&\\?]+)/\r\n    let match = url.match(regVideoQuality)\r\n    if(match !== null && match.length > 1) {\r\n      return match[1]\r\n    }\r\n    return 'auto'\r\n  }\r\n\r\n  embedYoutubePlayer () {\r\n    let playerVars = {\r\n      controls: 0,\r\n      autoplay: 1,\r\n      disablekb: 1,\r\n      enablejsapi: 1,\r\n      iv_load_policy: 3,\r\n      modestbranding: 1,\r\n      showinfo: 0,\r\n      html5: 1,\r\n      playsinline: 1,\r\n      vq: this.options.videoQuality || this.findVideoQuality(this.options.src),\r\n      rel: this.options.youtubeShowRelated || 0,\r\n      loop: this.options.loop ? 1 : 0\r\n    }\r\n    var isLocalProtocol = window.location.protocol === 'file:' || window.location.protocol === 'app:'\r\n    if (!isLocalProtocol) {\r\n      playerVars.origin = window.location.protocol + '//' + window.location.host\r\n    }\r\n    if (this.options.youtubePlaylist) {\r\n      playerVars.listType = 'playlist'\r\n      playerVars.list = this.options.youtubePlaylist\r\n    }\r\n    this.player = new YT.Player(`yt${this.cid}`, {\r\n      width: this.options.width || '100%',\r\n      height: this.options.height || '100%',\r\n      videoId: this.findVideoId(this.options.src),\r\n      playerVars: playerVars,\r\n      events: {\r\n        onReady: () => this.ready(),\r\n        onStateChange: (event) => this.stateChange(event),\r\n        onPlaybackQualityChange: (event) => this.qualityChange(event)\r\n      }\r\n    })\r\n  }\r\n\r\n  updateSize () {\r\n    this.player && this.player.setSize(this.$el.width(), this.$el.height())\r\n  }\r\n\r\n  ready () {\r\n    this._ready = true\r\n    if (this.options.mute) {\r\n      this.volume(0)\r\n    }\r\n    console.log(\"trigger PLAYBACK_READY\")\r\n    this.trigger(Events.PLAYBACK_READY)\r\n  }\r\n\r\n  qualityChange (event) { // eslint-disable-line no-unused-vars\r\n    this.trigger(Events.PLAYBACK_HIGHDEFINITIONUPDATE, this.isHighDefinitionInUse())\r\n  }\r\n\r\n  stateChange (event) {\r\n    switch (event.data) {\r\n      case YT.PlayerState.PLAYING: {\r\n        this.enableMediaControl()\r\n        let playbackType = this.getPlaybackType()\r\n        if (this._playbackType !== playbackType) {\r\n          this.settings.changeCount++\r\n          this._playbackType = playbackType\r\n          this.trigger(Events.PLAYBACK_SETTINGSUPDATE)\r\n        }\r\n        this.trigger(Events.PLAYBACK_BUFFERFULL)\r\n        this.trigger(Events.PLAYBACK_PLAY)\r\n        break\r\n      }\r\n      case YT.PlayerState.PAUSED:\r\n        this.trigger(Events.PLAYBACK_PAUSE)\r\n        break\r\n      case YT.PlayerState.BUFFERING:\r\n        this.trigger(Events.PLAYBACK_BUFFERING)\r\n        break\r\n      case YT.PlayerState.ENDED:\r\n        if (this.options.youtubeShowRelated) {\r\n          this.disableMediaControl()\r\n        } else {\r\n          this.trigger(Events.PLAYBACK_ENDED)\r\n        }\r\n        break\r\n      default:\r\n        break\r\n    }\r\n  }\r\n\r\n  play () {\r\n    if (this.player) {\r\n      this._progressTimer = this._progressTimer || setInterval(() => this.progress(), 100)\r\n      this._timeupdateTimer = this._timeupdateTimer || setInterval(() => this.timeupdate(), 100)\r\n      this.player.playVideo()\r\n    } else if (this._ready) {\r\n      this.trigger(Events.PLAYBACK_BUFFERING)\r\n      this._progressTimer = this._progressTimer || setInterval(() => this.progress(), 100)\r\n      this._timeupdateTimer = this._timeupdateTimer || setInterval(() => this.timeupdate(), 100)\r\n      this.setupYoutubePlayer()\r\n    } else {\r\n      this.trigger(Events.PLAYBACK_BUFFERING)\r\n      this.listenToOnce(this, Events.PLAYBACK_READY, this.play)\r\n    }\r\n  }\r\n\r\n  pause () {\r\n    clearInterval(this._timeupdateTimer)\r\n    this._timeupdateTimer = null\r\n    this.player && this.player.pauseVideo()\r\n  }\r\n\r\n  seek (time) {\r\n    if (!this.player) return\r\n    this.player.seekTo(time)\r\n  }\r\n\r\n  seekPercentage (percentage) {\r\n    if (!this.player) return\r\n    let duration = this.player.getDuration()\r\n    let time = percentage * duration / 100\r\n    this.seekTo(time)\r\n  }\r\n\r\n  volume (value) {\r\n    this.player && this.player.setVolume && this.player.setVolume(value)\r\n  }\r\n\r\n  progress () {\r\n    if (!this.player || !this.player.getDuration) return\r\n    let buffered = this.player.getDuration() * this.player.getVideoLoadedFraction()\r\n    this.trigger(Events.PLAYBACK_PROGRESS, {start: 0, current: buffered, total: this.player.getDuration()})\r\n  }\r\n\r\n  timeupdate () {\r\n    if (!this.player || !this.player.getDuration) return\r\n    this.trigger(Events.PLAYBACK_TIMEUPDATE, {current: this.player.getCurrentTime(), total: this.player.getDuration()})\r\n  }\r\n\r\n  isPlaying () {\r\n    return this.player && this.player.getPlayerState() == YT.PlayerState.PLAYING\r\n  }\r\n\r\n  isHighDefinitionInUse () {\r\n    return this.player && !!this.player.getPlaybackQuality().match(/^hd\\d+/)\r\n  }\r\n\r\n  getDuration () {\r\n    let duration = 0\r\n    if (this.player) {\r\n      duration = this.player.getDuration()\r\n    }\r\n    return duration\r\n  }\r\n\r\n  getPlaybackType () {\r\n    return Playback.VOD\r\n  }\r\n\r\n  disableMediaControl () {\r\n    this.$el.css({'pointer-events': 'auto'})\r\n    this.trigger(Events.PLAYBACK_MEDIACONTROL_DISABLE)\r\n  }\r\n\r\n  enableMediaControl () {\r\n    this.$el.css({'pointer-events': 'none'})\r\n    this.trigger(Events.PLAYBACK_MEDIACONTROL_ENABLE)\r\n  }\r\n\r\n  render () {\r\n    this.$el.html(this.template({id: `yt${this.cid}`}))\r\n    let style = Styler.getStyleFor(playbackStyle, {baseUrl: this.options.baseUrl})\r\n    this.$el.append(style)\r\n    if (this.options.autoPlay) {\r\n        this.play()\r\n    }\r\n    return this\r\n  }\r\n}\r\n\r\nYoutubePlayback.canPlay = function (source) { // eslint-disable-line no-unused-vars\r\n  return YT_URL_PARSER.test(source)\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Clappr\"\n// module id = 1\n// module chunks = 0","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".clappr-youtube-playback[data-youtube-playback]{position:absolute;height:100%;width:100%;display:block;pointer-events:none}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/public/style.css\n// module id = 2\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader/lib/css-base.js\n// module id = 3\n// module chunks = 0","module.exports = \"<div id=\\\"<%=id%>\\\"></div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/public/youtube.html\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}